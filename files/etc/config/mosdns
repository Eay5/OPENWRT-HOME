config mosdns 'config'
	option enabled '1'
	option listen_port '5353'    # MosDNS监听5353端口
	option log_level 'info'
	option log_file '/var/log/mosdns.log'
	option cache_size '8192'     # 8K缓存条目
	option cache_survival '86400' # 缓存24小时
	option minimal_ttl '300'      # 最小TTL 5分钟
	option maximum_ttl '3600'     # 最大TTL 1小时
	
	# 上游DNS配置
	list bootstrap_dns '223.5.5.5'
	list bootstrap_dns '119.29.29.29'
	
	# 国内DNS
	list local_dns 'https://dns.alidns.com/dns-query'
	list local_dns 'https://doh.pub/dns-query'
	list local_dns 'tls://dot.pub:853'
	
	# 国外DNS（通过代理）
	list remote_dns 'https://1.1.1.1/dns-query'
	list remote_dns 'https://dns.google/dns-query'
	list remote_dns 'tls://1.0.0.1:853'
	
	# 并发请求优化
	option concurrent_num '3'     # 同时查询3个上游
	option enable_pipeline '1'    # 启用管道化
	option enable_http3 '1'       # 启用HTTP/3（如果支持）
	
	# ECS优化
	option enable_ecs_cn '1'      # 国内DNS使用ECS
	option enable_ecs_remote '0'  # 国外DNS不使用ECS
	
	# 分流规则
	option geoip_file '/etc/mosdns/geoip.dat'
	option geosite_file '/etc/mosdns/geosite.dat'
	list force_local_domain 'cn'
	list force_local_domain 'local'
	list force_local_domain 'lan'
